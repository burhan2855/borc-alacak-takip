# ğŸ” Keystore & Release Signing Kurulum - KullanÄ±cÄ± Rehberi

**Tarih:** 27 AralÄ±k 2025  
**Durum:** âœ… BAÅARILI KURULUM

---

## ğŸ“‹ Ã–zet

Bu rehber, BorÃ§Takip Android uygulamasÄ± iÃ§in Release Signing'i kurmanÄ±z iÃ§in yazÄ±lmÄ±ÅŸtÄ±r.

**Ä°ki seÃ§eneÄŸiniz var:**
1. **Kendi Keystore'unuzu kullanmak** (Tavsiye edilir)
2. **Yeni bir Keystore oluÅŸturmak**

---

## ğŸ”‘ SeÃ§enek 1: Kendi Keystore'unuzu Kullanmak

EÄŸer zaten bir keystore dosyanÄ±z varsa ve ÅŸifrelerini biliyorsanÄ±z:

### AdÄ±m 1: local.properties DosyasÄ±nÄ± AÃ§Ä±n

```
Proje Root â†’ local.properties
```

### AdÄ±m 2: Signing Bilgilerini Ekleyin

```properties
# Release Signing Configuration
BORC_TAKIP_STORE_FILE=path/to/your/release-key.keystore
BORC_TAKIP_STORE_PASSWORD=your-keystore-password
BORC_TAKIP_KEY_ALIAS=your-key-alias
BORC_TAKIP_KEY_PASSWORD=your-key-password
```

**Ã–rnek:**
```properties
BORC_TAKIP_STORE_FILE=release-key.keystore
BORC_TAKIP_STORE_PASSWORD=MySecurePassword123!
BORC_TAKIP_KEY_ALIAS=release-key
BORC_TAKIP_KEY_PASSWORD=KeyPassword456!
```

### AdÄ±m 3: Keystore DosyasÄ±nÄ± KopyalayÄ±n

Keystore dosyasÄ±nÄ± proje root klasÃ¶rÃ¼ne kopyalayÄ±n:
```
BorcTakip-5/release-key.keystore
```

**âš ï¸ Ã–NEMLÄ°:**
- Keystore dosyasÄ±nÄ± `.gitignore`'a ekleyin (zaten ekli)
- GitHub'a push ETMEYÄ°N
- Åifreleri code'a YAZMAYIN

---

## ğŸ”‘ SeÃ§enek 2: Yeni Keystore OluÅŸturmak

EÄŸer yeni bir keystore oluÅŸturmak istiyorsanÄ±z:

### AdÄ±m 1: Keystore OluÅŸtur (Windows PowerShell)

```powershell
cd path\to\project\BorcTakip-5

keytool -genkeypair `
  -alias release-key `
  -keyalg RSA `
  -keysize 2048 `
  -keystore release-key.keystore `
  -validity 10000 `
  -keypass YourKeyPassword! `
  -storepass YourKeystorePassword! `
  -dname "CN=Your Name, OU=Your OU, O=Your Company, L=Your City, ST=Your State, C=TR"
```

**Parametreler:**
- `-alias`: Key'in adÄ± (genellikle `release-key`)
- `-keyalg`: Algorithm (RSA)
- `-keysize`: Key boyutu (2048 bit)
- `-keystore`: Dosya adÄ±
- `-validity`: GeÃ§erlilik sÃ¼resi (10000 gÃ¼n â‰ˆ 27 yÄ±l)
- `-keypass`: Key ÅŸifresi
- `-storepass`: Keystore ÅŸifresi
- `-dname`: Sertifika bilgileri

**Ã–rnek (Linux/Mac):**
```bash
keytool -genkeypair \
  -alias release-key \
  -keyalg RSA \
  -keysize 2048 \
  -keystore release-key.keystore \
  -validity 10000 \
  -keypass YourKeyPassword! \
  -storepass YourKeystorePassword! \
  -dname "CN=Burhan, OU=BorcTakip, O=BorcTakip, L=Turkey, ST=Turkey, C=TR"
```

### AdÄ±m 2: local.properties'e Ekle

```properties
BORC_TAKIP_STORE_FILE=release-key.keystore
BORC_TAKIP_STORE_PASSWORD=YourKeystorePassword!
BORC_TAKIP_KEY_ALIAS=release-key
BORC_TAKIP_KEY_PASSWORD=YourKeyPassword!
```

### AdÄ±m 3: Åifreleri SaklayÄ±n

Åifreleri gÃ¼venli bir yerde saklayÄ±n:
- Txt dosyasÄ±nda ÅŸifreli
- Password manager'da
- BaÅŸka bir gÃ¼venli yerde

---

## ğŸ“ local.properties Ã–rneÄŸi

```properties
## This file is automatically generated by Android Studio.
# Do not modify this file -- YOUR CHANGES WILL BE ERASED!

sdk.dir=C:\\Users\\YourUsername\\AppData\\Local\\Android\\Sdk

# Gemini API Key
GEMINI_API_KEY=AIzaSy...

# Release Signing Configuration
BORC_TAKIP_STORE_FILE=release-key.keystore
BORC_TAKIP_STORE_PASSWORD=MySecurePassword123!
BORC_TAKIP_KEY_ALIAS=release-key
BORC_TAKIP_KEY_PASSWORD=KeyPassword456!
```

---

## âœ… Test Edin

### Debug Build (Keystore gereksiz)
```bash
./gradlew :app:assembleDebug
```

### Release Build (Keystore gerekli)
```bash
./gradlew :app:assembleRelease
```

BaÅŸarÄ±lÄ± olursa:
```
BUILD SUCCESSFUL
```

---

## ğŸŒ GitHub Actions Ä°Ã§in

GitHub'da release build yapmak istiyorsanÄ±z:

### AdÄ±m 1: Keystore'u Base64'e Kodla

**Windows PowerShell:**
```powershell
$base64 = [Convert]::ToBase64String([IO.File]::ReadAllBytes("release-key.keystore"))
$base64 | Set-Clipboard
Write-Host "Base64 string Clipboard'a kopyalandÄ±!"
```

**Linux/Mac:**
```bash
cat release-key.keystore | base64 | pbcopy  # macOS
cat release-key.keystore | base64 | xclip   # Linux
```

### AdÄ±m 2: GitHub Secrets Ekle

Repository Settings â†’ Secrets and variables â†’ Actions

4 Secret ekleyin:

| Secret | DeÄŸer |
|--------|-------|
| `BORC_TAKIP_STORE_PASSWORD` | Keystore ÅŸifresi |
| `BORC_TAKIP_KEY_ALIAS` | Key alias |
| `BORC_TAKIP_KEY_PASSWORD` | Key ÅŸifresi |
| `SIGNING_KEY` | Base64 keystore |

### AdÄ±m 3: Release Build YapÄ±n

```bash
git tag v1.0.0
git push origin v1.0.0
```

GitHub Actions otomatik olarak imzalÄ± APK build'leyecek!

---

## ğŸ†˜ Sorun Giderme

### "Keystore not found"
```
Ã‡Ã¶zÃ¼m: BORC_TAKIP_STORE_FILE dosya yolunu kontrol edin
```

### "Keystore password was incorrect"
```
Ã‡Ã¶zÃ¼m: BORC_TAKIP_STORE_PASSWORD'u kontrol edin
```

### "Key alias not found"
```
Ã‡Ã¶zÃ¼m: BORC_TAKIP_KEY_ALIAS'u kontrol edin
```

### Build baÅŸarÄ±sÄ±z
```bash
# Lokal'de test edin
./gradlew clean :app:assembleRelease

# LoglarÄ± okuyun
# Åifreleri kontrol edin
```

---

## ğŸ” GÃ¼venlik Ä°puÃ§larÄ±

âœ… **YapÄ±n:**
- âœ… Åifreleri local.properties'e yazÄ±n
- âœ… local.properties'i .gitignore'a ekleyin
- âœ… GitHub Secrets kullanÄ±n (GitHub Actions iÃ§in)
- âœ… Åifreleri gÃ¼venli bir yerde saklayÄ±n
- âœ… Keystore dosyasÄ±nÄ± backup alÄ±n

âŒ **YAPMAYINIZ:**
- âŒ Åifreleri code'a yazÄ±p commit ETMEYÄ°N
- âŒ Keystore dosyasÄ±nÄ± GitHub'a push ETMEYÄ°N
- âŒ Åifreleri baÅŸkasÄ±na sÃ¶ylemeyin
- âŒ local.properties'i GitHub'a push ETMEYÄ°N

---

## ğŸ“š Referans

**Dosyalar:**
- `local.properties` - Lokal kurulum
- `local.properties.example` - Ã–rnek
- `gradle.properties` - Genel Gradle ayarlarÄ±
- `.github/workflows/android-release.yml` - Release workflow

**Linkler:**
- Android Keystore: https://developer.android.com/studio/publish/app-signing/app-signing-legacy
- keytool Rehberi: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/keytool.html

---

## âœ… Kontrol Listesi

- [ ] Keystore dosyasÄ±nÄ± hazÄ±rladÄ±m (kendi veya yeni)
- [ ] local.properties'e bilgileri ekledim
- [ ] Keystore dosyasÄ±nÄ± proje root'a kopyaladÄ±m
- [ ] Åifreleri gÃ¼venli bir yerde sakladÄ±m
- [ ] Release build test ettim (./gradlew :app:assembleRelease)
- [ ] GitHub Secrets'leri ekledim (release build iÃ§in)
- [ ] Test tag'i push ettim (git tag v1.0.0)
- [ ] GitHub Actions'ta release build'i izledim

---

## ğŸ‰ BaÅŸarÄ±lÄ±!

Release Signing kurulumu tamamlandÄ±!

ArtÄ±k:
- âœ… Lokal'de imzalÄ± APK build edebilirsiniz
- âœ… GitHub Actions'ta release build otomatik olacak
- âœ… Åifreleriniz gÃ¼venli ÅŸekilde saklÄ±

---

**SorularÄ±nÄ±z varsa:**
1. Bu rehberi tekrar okuyun
2. LoglarÄ± dikkatlice okuyun
3. Åifreleri kontrol edin

**Happy coding! ğŸš€**
